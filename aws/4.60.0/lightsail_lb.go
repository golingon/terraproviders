// CODE GENERATED BY github.com/volvo-cars/lingon. DO NOT EDIT.

package aws

import (
	"encoding/json"
	"fmt"
	"github.com/volvo-cars/lingon/pkg/terra"
	"io"
)

func NewLightsailLb(name string, args LightsailLbArgs) *LightsailLb {
	return &LightsailLb{
		Args: args,
		Name: name,
	}
}

var _ terra.Resource = (*LightsailLb)(nil)

type LightsailLb struct {
	Name  string
	Args  LightsailLbArgs
	state *lightsailLbState
}

func (ll *LightsailLb) Type() string {
	return "aws_lightsail_lb"
}

func (ll *LightsailLb) LocalName() string {
	return ll.Name
}

func (ll *LightsailLb) Configuration() interface{} {
	return ll.Args
}

func (ll *LightsailLb) Attributes() lightsailLbAttributes {
	return lightsailLbAttributes{ref: terra.ReferenceResource(ll)}
}

func (ll *LightsailLb) ImportState(av io.Reader) error {
	ll.state = &lightsailLbState{}
	if err := json.NewDecoder(av).Decode(ll.state); err != nil {
		return fmt.Errorf("decoding state into resource %s.%s: %w", ll.Type(), ll.LocalName(), err)
	}
	return nil
}

func (ll *LightsailLb) State() (*lightsailLbState, bool) {
	return ll.state, ll.state != nil
}

func (ll *LightsailLb) StateMust() *lightsailLbState {
	if ll.state == nil {
		panic(fmt.Sprintf("state is nil for resource %s.%s", ll.Type(), ll.LocalName()))
	}
	return ll.state
}

func (ll *LightsailLb) DependOn() terra.Reference {
	return terra.ReferenceResource(ll)
}

type LightsailLbArgs struct {
	// HealthCheckPath: string, optional
	HealthCheckPath terra.StringValue `hcl:"health_check_path,attr"`
	// Id: string, optional
	Id terra.StringValue `hcl:"id,attr"`
	// InstancePort: number, required
	InstancePort terra.NumberValue `hcl:"instance_port,attr" validate:"required"`
	// IpAddressType: string, optional
	IpAddressType terra.StringValue `hcl:"ip_address_type,attr"`
	// Name: string, required
	Name terra.StringValue `hcl:"name,attr" validate:"required"`
	// Tags: map of string, optional
	Tags terra.MapValue[terra.StringValue] `hcl:"tags,attr"`
	// TagsAll: map of string, optional
	TagsAll terra.MapValue[terra.StringValue] `hcl:"tags_all,attr"`
	// DependsOn contains resources that LightsailLb depends on
	DependsOn terra.Dependencies `hcl:"depends_on,attr"`
}
type lightsailLbAttributes struct {
	ref terra.Reference
}

func (ll lightsailLbAttributes) Arn() terra.StringValue {
	return terra.ReferenceString(ll.ref.Append("arn"))
}

func (ll lightsailLbAttributes) CreatedAt() terra.StringValue {
	return terra.ReferenceString(ll.ref.Append("created_at"))
}

func (ll lightsailLbAttributes) DnsName() terra.StringValue {
	return terra.ReferenceString(ll.ref.Append("dns_name"))
}

func (ll lightsailLbAttributes) HealthCheckPath() terra.StringValue {
	return terra.ReferenceString(ll.ref.Append("health_check_path"))
}

func (ll lightsailLbAttributes) Id() terra.StringValue {
	return terra.ReferenceString(ll.ref.Append("id"))
}

func (ll lightsailLbAttributes) InstancePort() terra.NumberValue {
	return terra.ReferenceNumber(ll.ref.Append("instance_port"))
}

func (ll lightsailLbAttributes) IpAddressType() terra.StringValue {
	return terra.ReferenceString(ll.ref.Append("ip_address_type"))
}

func (ll lightsailLbAttributes) Name() terra.StringValue {
	return terra.ReferenceString(ll.ref.Append("name"))
}

func (ll lightsailLbAttributes) Protocol() terra.StringValue {
	return terra.ReferenceString(ll.ref.Append("protocol"))
}

func (ll lightsailLbAttributes) PublicPorts() terra.ListValue[terra.NumberValue] {
	return terra.ReferenceList[terra.NumberValue](ll.ref.Append("public_ports"))
}

func (ll lightsailLbAttributes) SupportCode() terra.StringValue {
	return terra.ReferenceString(ll.ref.Append("support_code"))
}

func (ll lightsailLbAttributes) Tags() terra.MapValue[terra.StringValue] {
	return terra.ReferenceMap[terra.StringValue](ll.ref.Append("tags"))
}

func (ll lightsailLbAttributes) TagsAll() terra.MapValue[terra.StringValue] {
	return terra.ReferenceMap[terra.StringValue](ll.ref.Append("tags_all"))
}

type lightsailLbState struct {
	Arn             string            `json:"arn"`
	CreatedAt       string            `json:"created_at"`
	DnsName         string            `json:"dns_name"`
	HealthCheckPath string            `json:"health_check_path"`
	Id              string            `json:"id"`
	InstancePort    float64           `json:"instance_port"`
	IpAddressType   string            `json:"ip_address_type"`
	Name            string            `json:"name"`
	Protocol        string            `json:"protocol"`
	PublicPorts     []float64         `json:"public_ports"`
	SupportCode     string            `json:"support_code"`
	Tags            map[string]string `json:"tags"`
	TagsAll         map[string]string `json:"tags_all"`
}
