// CODE GENERATED BY github.com/volvo-cars/lingon. DO NOT EDIT.

package aws

import (
	"encoding/json"
	"fmt"
	emrcluster "github.com/golingon/terraproviders/aws/4.60.0/emrcluster"
	"github.com/volvo-cars/lingon/pkg/terra"
	"io"
)

func NewEmrCluster(name string, args EmrClusterArgs) *EmrCluster {
	return &EmrCluster{
		Args: args,
		Name: name,
	}
}

var _ terra.Resource = (*EmrCluster)(nil)

type EmrCluster struct {
	Name  string
	Args  EmrClusterArgs
	state *emrClusterState
}

func (ec *EmrCluster) Type() string {
	return "aws_emr_cluster"
}

func (ec *EmrCluster) LocalName() string {
	return ec.Name
}

func (ec *EmrCluster) Configuration() interface{} {
	return ec.Args
}

func (ec *EmrCluster) Attributes() emrClusterAttributes {
	return emrClusterAttributes{ref: terra.ReferenceResource(ec)}
}

func (ec *EmrCluster) ImportState(av io.Reader) error {
	ec.state = &emrClusterState{}
	if err := json.NewDecoder(av).Decode(ec.state); err != nil {
		return fmt.Errorf("decoding state into resource %s.%s: %w", ec.Type(), ec.LocalName(), err)
	}
	return nil
}

func (ec *EmrCluster) State() (*emrClusterState, bool) {
	return ec.state, ec.state != nil
}

func (ec *EmrCluster) StateMust() *emrClusterState {
	if ec.state == nil {
		panic(fmt.Sprintf("state is nil for resource %s.%s", ec.Type(), ec.LocalName()))
	}
	return ec.state
}

func (ec *EmrCluster) DependOn() terra.Reference {
	return terra.ReferenceResource(ec)
}

type EmrClusterArgs struct {
	// AdditionalInfo: string, optional
	AdditionalInfo terra.StringValue `hcl:"additional_info,attr"`
	// Applications: set of string, optional
	Applications terra.SetValue[terra.StringValue] `hcl:"applications,attr"`
	// AutoscalingRole: string, optional
	AutoscalingRole terra.StringValue `hcl:"autoscaling_role,attr"`
	// Configurations: string, optional
	Configurations terra.StringValue `hcl:"configurations,attr"`
	// ConfigurationsJson: string, optional
	ConfigurationsJson terra.StringValue `hcl:"configurations_json,attr"`
	// CustomAmiId: string, optional
	CustomAmiId terra.StringValue `hcl:"custom_ami_id,attr"`
	// EbsRootVolumeSize: number, optional
	EbsRootVolumeSize terra.NumberValue `hcl:"ebs_root_volume_size,attr"`
	// Id: string, optional
	Id terra.StringValue `hcl:"id,attr"`
	// KeepJobFlowAliveWhenNoSteps: bool, optional
	KeepJobFlowAliveWhenNoSteps terra.BoolValue `hcl:"keep_job_flow_alive_when_no_steps,attr"`
	// ListStepsStates: set of string, optional
	ListStepsStates terra.SetValue[terra.StringValue] `hcl:"list_steps_states,attr"`
	// LogEncryptionKmsKeyId: string, optional
	LogEncryptionKmsKeyId terra.StringValue `hcl:"log_encryption_kms_key_id,attr"`
	// LogUri: string, optional
	LogUri terra.StringValue `hcl:"log_uri,attr"`
	// Name: string, required
	Name terra.StringValue `hcl:"name,attr" validate:"required"`
	// ReleaseLabel: string, required
	ReleaseLabel terra.StringValue `hcl:"release_label,attr" validate:"required"`
	// ScaleDownBehavior: string, optional
	ScaleDownBehavior terra.StringValue `hcl:"scale_down_behavior,attr"`
	// SecurityConfiguration: string, optional
	SecurityConfiguration terra.StringValue `hcl:"security_configuration,attr"`
	// ServiceRole: string, required
	ServiceRole terra.StringValue `hcl:"service_role,attr" validate:"required"`
	// StepConcurrencyLevel: number, optional
	StepConcurrencyLevel terra.NumberValue `hcl:"step_concurrency_level,attr"`
	// Tags: map of string, optional
	Tags terra.MapValue[terra.StringValue] `hcl:"tags,attr"`
	// TagsAll: map of string, optional
	TagsAll terra.MapValue[terra.StringValue] `hcl:"tags_all,attr"`
	// TerminationProtection: bool, optional
	TerminationProtection terra.BoolValue `hcl:"termination_protection,attr"`
	// VisibleToAllUsers: bool, optional
	VisibleToAllUsers terra.BoolValue `hcl:"visible_to_all_users,attr"`
	// Step: min=0
	Step []emrcluster.Step `hcl:"step,block" validate:"min=0"`
	// AutoTerminationPolicy: optional
	AutoTerminationPolicy *emrcluster.AutoTerminationPolicy `hcl:"auto_termination_policy,block"`
	// BootstrapAction: min=0
	BootstrapAction []emrcluster.BootstrapAction `hcl:"bootstrap_action,block" validate:"min=0"`
	// CoreInstanceFleet: optional
	CoreInstanceFleet *emrcluster.CoreInstanceFleet `hcl:"core_instance_fleet,block"`
	// CoreInstanceGroup: optional
	CoreInstanceGroup *emrcluster.CoreInstanceGroup `hcl:"core_instance_group,block"`
	// Ec2Attributes: optional
	Ec2Attributes *emrcluster.Ec2Attributes `hcl:"ec2_attributes,block"`
	// KerberosAttributes: optional
	KerberosAttributes *emrcluster.KerberosAttributes `hcl:"kerberos_attributes,block"`
	// MasterInstanceFleet: optional
	MasterInstanceFleet *emrcluster.MasterInstanceFleet `hcl:"master_instance_fleet,block"`
	// MasterInstanceGroup: optional
	MasterInstanceGroup *emrcluster.MasterInstanceGroup `hcl:"master_instance_group,block"`
	// DependsOn contains resources that EmrCluster depends on
	DependsOn terra.Dependencies `hcl:"depends_on,attr"`
}
type emrClusterAttributes struct {
	ref terra.Reference
}

func (ec emrClusterAttributes) AdditionalInfo() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("additional_info"))
}

func (ec emrClusterAttributes) Applications() terra.SetValue[terra.StringValue] {
	return terra.ReferenceSet[terra.StringValue](ec.ref.Append("applications"))
}

func (ec emrClusterAttributes) Arn() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("arn"))
}

func (ec emrClusterAttributes) AutoscalingRole() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("autoscaling_role"))
}

func (ec emrClusterAttributes) ClusterState() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("cluster_state"))
}

func (ec emrClusterAttributes) Configurations() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("configurations"))
}

func (ec emrClusterAttributes) ConfigurationsJson() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("configurations_json"))
}

func (ec emrClusterAttributes) CustomAmiId() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("custom_ami_id"))
}

func (ec emrClusterAttributes) EbsRootVolumeSize() terra.NumberValue {
	return terra.ReferenceNumber(ec.ref.Append("ebs_root_volume_size"))
}

func (ec emrClusterAttributes) Id() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("id"))
}

func (ec emrClusterAttributes) KeepJobFlowAliveWhenNoSteps() terra.BoolValue {
	return terra.ReferenceBool(ec.ref.Append("keep_job_flow_alive_when_no_steps"))
}

func (ec emrClusterAttributes) ListStepsStates() terra.SetValue[terra.StringValue] {
	return terra.ReferenceSet[terra.StringValue](ec.ref.Append("list_steps_states"))
}

func (ec emrClusterAttributes) LogEncryptionKmsKeyId() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("log_encryption_kms_key_id"))
}

func (ec emrClusterAttributes) LogUri() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("log_uri"))
}

func (ec emrClusterAttributes) MasterPublicDns() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("master_public_dns"))
}

func (ec emrClusterAttributes) Name() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("name"))
}

func (ec emrClusterAttributes) ReleaseLabel() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("release_label"))
}

func (ec emrClusterAttributes) ScaleDownBehavior() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("scale_down_behavior"))
}

func (ec emrClusterAttributes) SecurityConfiguration() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("security_configuration"))
}

func (ec emrClusterAttributes) ServiceRole() terra.StringValue {
	return terra.ReferenceString(ec.ref.Append("service_role"))
}

func (ec emrClusterAttributes) StepConcurrencyLevel() terra.NumberValue {
	return terra.ReferenceNumber(ec.ref.Append("step_concurrency_level"))
}

func (ec emrClusterAttributes) Tags() terra.MapValue[terra.StringValue] {
	return terra.ReferenceMap[terra.StringValue](ec.ref.Append("tags"))
}

func (ec emrClusterAttributes) TagsAll() terra.MapValue[terra.StringValue] {
	return terra.ReferenceMap[terra.StringValue](ec.ref.Append("tags_all"))
}

func (ec emrClusterAttributes) TerminationProtection() terra.BoolValue {
	return terra.ReferenceBool(ec.ref.Append("termination_protection"))
}

func (ec emrClusterAttributes) VisibleToAllUsers() terra.BoolValue {
	return terra.ReferenceBool(ec.ref.Append("visible_to_all_users"))
}

func (ec emrClusterAttributes) Step() terra.ListValue[emrcluster.StepAttributes] {
	return terra.ReferenceList[emrcluster.StepAttributes](ec.ref.Append("step"))
}

func (ec emrClusterAttributes) AutoTerminationPolicy() terra.ListValue[emrcluster.AutoTerminationPolicyAttributes] {
	return terra.ReferenceList[emrcluster.AutoTerminationPolicyAttributes](ec.ref.Append("auto_termination_policy"))
}

func (ec emrClusterAttributes) BootstrapAction() terra.ListValue[emrcluster.BootstrapActionAttributes] {
	return terra.ReferenceList[emrcluster.BootstrapActionAttributes](ec.ref.Append("bootstrap_action"))
}

func (ec emrClusterAttributes) CoreInstanceFleet() terra.ListValue[emrcluster.CoreInstanceFleetAttributes] {
	return terra.ReferenceList[emrcluster.CoreInstanceFleetAttributes](ec.ref.Append("core_instance_fleet"))
}

func (ec emrClusterAttributes) CoreInstanceGroup() terra.ListValue[emrcluster.CoreInstanceGroupAttributes] {
	return terra.ReferenceList[emrcluster.CoreInstanceGroupAttributes](ec.ref.Append("core_instance_group"))
}

func (ec emrClusterAttributes) Ec2Attributes() terra.ListValue[emrcluster.Ec2AttributesAttributes] {
	return terra.ReferenceList[emrcluster.Ec2AttributesAttributes](ec.ref.Append("ec2_attributes"))
}

func (ec emrClusterAttributes) KerberosAttributes() terra.ListValue[emrcluster.KerberosAttributesAttributes] {
	return terra.ReferenceList[emrcluster.KerberosAttributesAttributes](ec.ref.Append("kerberos_attributes"))
}

func (ec emrClusterAttributes) MasterInstanceFleet() terra.ListValue[emrcluster.MasterInstanceFleetAttributes] {
	return terra.ReferenceList[emrcluster.MasterInstanceFleetAttributes](ec.ref.Append("master_instance_fleet"))
}

func (ec emrClusterAttributes) MasterInstanceGroup() terra.ListValue[emrcluster.MasterInstanceGroupAttributes] {
	return terra.ReferenceList[emrcluster.MasterInstanceGroupAttributes](ec.ref.Append("master_instance_group"))
}

type emrClusterState struct {
	AdditionalInfo              string                                  `json:"additional_info"`
	Applications                []string                                `json:"applications"`
	Arn                         string                                  `json:"arn"`
	AutoscalingRole             string                                  `json:"autoscaling_role"`
	ClusterState                string                                  `json:"cluster_state"`
	Configurations              string                                  `json:"configurations"`
	ConfigurationsJson          string                                  `json:"configurations_json"`
	CustomAmiId                 string                                  `json:"custom_ami_id"`
	EbsRootVolumeSize           float64                                 `json:"ebs_root_volume_size"`
	Id                          string                                  `json:"id"`
	KeepJobFlowAliveWhenNoSteps bool                                    `json:"keep_job_flow_alive_when_no_steps"`
	ListStepsStates             []string                                `json:"list_steps_states"`
	LogEncryptionKmsKeyId       string                                  `json:"log_encryption_kms_key_id"`
	LogUri                      string                                  `json:"log_uri"`
	MasterPublicDns             string                                  `json:"master_public_dns"`
	Name                        string                                  `json:"name"`
	ReleaseLabel                string                                  `json:"release_label"`
	ScaleDownBehavior           string                                  `json:"scale_down_behavior"`
	SecurityConfiguration       string                                  `json:"security_configuration"`
	ServiceRole                 string                                  `json:"service_role"`
	StepConcurrencyLevel        float64                                 `json:"step_concurrency_level"`
	Tags                        map[string]string                       `json:"tags"`
	TagsAll                     map[string]string                       `json:"tags_all"`
	TerminationProtection       bool                                    `json:"termination_protection"`
	VisibleToAllUsers           bool                                    `json:"visible_to_all_users"`
	Step                        []emrcluster.StepState                  `json:"step"`
	AutoTerminationPolicy       []emrcluster.AutoTerminationPolicyState `json:"auto_termination_policy"`
	BootstrapAction             []emrcluster.BootstrapActionState       `json:"bootstrap_action"`
	CoreInstanceFleet           []emrcluster.CoreInstanceFleetState     `json:"core_instance_fleet"`
	CoreInstanceGroup           []emrcluster.CoreInstanceGroupState     `json:"core_instance_group"`
	Ec2Attributes               []emrcluster.Ec2AttributesState         `json:"ec2_attributes"`
	KerberosAttributes          []emrcluster.KerberosAttributesState    `json:"kerberos_attributes"`
	MasterInstanceFleet         []emrcluster.MasterInstanceFleetState   `json:"master_instance_fleet"`
	MasterInstanceGroup         []emrcluster.MasterInstanceGroupState   `json:"master_instance_group"`
}
