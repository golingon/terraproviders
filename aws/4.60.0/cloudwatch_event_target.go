// CODE GENERATED BY github.com/volvo-cars/lingon. DO NOT EDIT.

package aws

import (
	"encoding/json"
	"fmt"
	cloudwatcheventtarget "github.com/golingon/terraproviders/aws/4.60.0/cloudwatcheventtarget"
	"github.com/volvo-cars/lingon/pkg/terra"
	"io"
)

func NewCloudwatchEventTarget(name string, args CloudwatchEventTargetArgs) *CloudwatchEventTarget {
	return &CloudwatchEventTarget{
		Args: args,
		Name: name,
	}
}

var _ terra.Resource = (*CloudwatchEventTarget)(nil)

type CloudwatchEventTarget struct {
	Name  string
	Args  CloudwatchEventTargetArgs
	state *cloudwatchEventTargetState
}

func (cet *CloudwatchEventTarget) Type() string {
	return "aws_cloudwatch_event_target"
}

func (cet *CloudwatchEventTarget) LocalName() string {
	return cet.Name
}

func (cet *CloudwatchEventTarget) Configuration() interface{} {
	return cet.Args
}

func (cet *CloudwatchEventTarget) Attributes() cloudwatchEventTargetAttributes {
	return cloudwatchEventTargetAttributes{ref: terra.ReferenceResource(cet)}
}

func (cet *CloudwatchEventTarget) ImportState(av io.Reader) error {
	cet.state = &cloudwatchEventTargetState{}
	if err := json.NewDecoder(av).Decode(cet.state); err != nil {
		return fmt.Errorf("decoding state into resource %s.%s: %w", cet.Type(), cet.LocalName(), err)
	}
	return nil
}

func (cet *CloudwatchEventTarget) State() (*cloudwatchEventTargetState, bool) {
	return cet.state, cet.state != nil
}

func (cet *CloudwatchEventTarget) StateMust() *cloudwatchEventTargetState {
	if cet.state == nil {
		panic(fmt.Sprintf("state is nil for resource %s.%s", cet.Type(), cet.LocalName()))
	}
	return cet.state
}

func (cet *CloudwatchEventTarget) DependOn() terra.Reference {
	return terra.ReferenceResource(cet)
}

type CloudwatchEventTargetArgs struct {
	// Arn: string, required
	Arn terra.StringValue `hcl:"arn,attr" validate:"required"`
	// EventBusName: string, optional
	EventBusName terra.StringValue `hcl:"event_bus_name,attr"`
	// Id: string, optional
	Id terra.StringValue `hcl:"id,attr"`
	// Input: string, optional
	Input terra.StringValue `hcl:"input,attr"`
	// InputPath: string, optional
	InputPath terra.StringValue `hcl:"input_path,attr"`
	// RoleArn: string, optional
	RoleArn terra.StringValue `hcl:"role_arn,attr"`
	// Rule: string, required
	Rule terra.StringValue `hcl:"rule,attr" validate:"required"`
	// TargetId: string, optional
	TargetId terra.StringValue `hcl:"target_id,attr"`
	// BatchTarget: optional
	BatchTarget *cloudwatcheventtarget.BatchTarget `hcl:"batch_target,block"`
	// DeadLetterConfig: optional
	DeadLetterConfig *cloudwatcheventtarget.DeadLetterConfig `hcl:"dead_letter_config,block"`
	// EcsTarget: optional
	EcsTarget *cloudwatcheventtarget.EcsTarget `hcl:"ecs_target,block"`
	// HttpTarget: optional
	HttpTarget *cloudwatcheventtarget.HttpTarget `hcl:"http_target,block"`
	// InputTransformer: optional
	InputTransformer *cloudwatcheventtarget.InputTransformer `hcl:"input_transformer,block"`
	// KinesisTarget: optional
	KinesisTarget *cloudwatcheventtarget.KinesisTarget `hcl:"kinesis_target,block"`
	// RedshiftTarget: optional
	RedshiftTarget *cloudwatcheventtarget.RedshiftTarget `hcl:"redshift_target,block"`
	// RetryPolicy: optional
	RetryPolicy *cloudwatcheventtarget.RetryPolicy `hcl:"retry_policy,block"`
	// RunCommandTargets: min=0,max=5
	RunCommandTargets []cloudwatcheventtarget.RunCommandTargets `hcl:"run_command_targets,block" validate:"min=0,max=5"`
	// SqsTarget: optional
	SqsTarget *cloudwatcheventtarget.SqsTarget `hcl:"sqs_target,block"`
	// DependsOn contains resources that CloudwatchEventTarget depends on
	DependsOn terra.Dependencies `hcl:"depends_on,attr"`
}
type cloudwatchEventTargetAttributes struct {
	ref terra.Reference
}

func (cet cloudwatchEventTargetAttributes) Arn() terra.StringValue {
	return terra.ReferenceString(cet.ref.Append("arn"))
}

func (cet cloudwatchEventTargetAttributes) EventBusName() terra.StringValue {
	return terra.ReferenceString(cet.ref.Append("event_bus_name"))
}

func (cet cloudwatchEventTargetAttributes) Id() terra.StringValue {
	return terra.ReferenceString(cet.ref.Append("id"))
}

func (cet cloudwatchEventTargetAttributes) Input() terra.StringValue {
	return terra.ReferenceString(cet.ref.Append("input"))
}

func (cet cloudwatchEventTargetAttributes) InputPath() terra.StringValue {
	return terra.ReferenceString(cet.ref.Append("input_path"))
}

func (cet cloudwatchEventTargetAttributes) RoleArn() terra.StringValue {
	return terra.ReferenceString(cet.ref.Append("role_arn"))
}

func (cet cloudwatchEventTargetAttributes) Rule() terra.StringValue {
	return terra.ReferenceString(cet.ref.Append("rule"))
}

func (cet cloudwatchEventTargetAttributes) TargetId() terra.StringValue {
	return terra.ReferenceString(cet.ref.Append("target_id"))
}

func (cet cloudwatchEventTargetAttributes) BatchTarget() terra.ListValue[cloudwatcheventtarget.BatchTargetAttributes] {
	return terra.ReferenceList[cloudwatcheventtarget.BatchTargetAttributes](cet.ref.Append("batch_target"))
}

func (cet cloudwatchEventTargetAttributes) DeadLetterConfig() terra.ListValue[cloudwatcheventtarget.DeadLetterConfigAttributes] {
	return terra.ReferenceList[cloudwatcheventtarget.DeadLetterConfigAttributes](cet.ref.Append("dead_letter_config"))
}

func (cet cloudwatchEventTargetAttributes) EcsTarget() terra.ListValue[cloudwatcheventtarget.EcsTargetAttributes] {
	return terra.ReferenceList[cloudwatcheventtarget.EcsTargetAttributes](cet.ref.Append("ecs_target"))
}

func (cet cloudwatchEventTargetAttributes) HttpTarget() terra.ListValue[cloudwatcheventtarget.HttpTargetAttributes] {
	return terra.ReferenceList[cloudwatcheventtarget.HttpTargetAttributes](cet.ref.Append("http_target"))
}

func (cet cloudwatchEventTargetAttributes) InputTransformer() terra.ListValue[cloudwatcheventtarget.InputTransformerAttributes] {
	return terra.ReferenceList[cloudwatcheventtarget.InputTransformerAttributes](cet.ref.Append("input_transformer"))
}

func (cet cloudwatchEventTargetAttributes) KinesisTarget() terra.ListValue[cloudwatcheventtarget.KinesisTargetAttributes] {
	return terra.ReferenceList[cloudwatcheventtarget.KinesisTargetAttributes](cet.ref.Append("kinesis_target"))
}

func (cet cloudwatchEventTargetAttributes) RedshiftTarget() terra.ListValue[cloudwatcheventtarget.RedshiftTargetAttributes] {
	return terra.ReferenceList[cloudwatcheventtarget.RedshiftTargetAttributes](cet.ref.Append("redshift_target"))
}

func (cet cloudwatchEventTargetAttributes) RetryPolicy() terra.ListValue[cloudwatcheventtarget.RetryPolicyAttributes] {
	return terra.ReferenceList[cloudwatcheventtarget.RetryPolicyAttributes](cet.ref.Append("retry_policy"))
}

func (cet cloudwatchEventTargetAttributes) RunCommandTargets() terra.ListValue[cloudwatcheventtarget.RunCommandTargetsAttributes] {
	return terra.ReferenceList[cloudwatcheventtarget.RunCommandTargetsAttributes](cet.ref.Append("run_command_targets"))
}

func (cet cloudwatchEventTargetAttributes) SqsTarget() terra.ListValue[cloudwatcheventtarget.SqsTargetAttributes] {
	return terra.ReferenceList[cloudwatcheventtarget.SqsTargetAttributes](cet.ref.Append("sqs_target"))
}

type cloudwatchEventTargetState struct {
	Arn               string                                         `json:"arn"`
	EventBusName      string                                         `json:"event_bus_name"`
	Id                string                                         `json:"id"`
	Input             string                                         `json:"input"`
	InputPath         string                                         `json:"input_path"`
	RoleArn           string                                         `json:"role_arn"`
	Rule              string                                         `json:"rule"`
	TargetId          string                                         `json:"target_id"`
	BatchTarget       []cloudwatcheventtarget.BatchTargetState       `json:"batch_target"`
	DeadLetterConfig  []cloudwatcheventtarget.DeadLetterConfigState  `json:"dead_letter_config"`
	EcsTarget         []cloudwatcheventtarget.EcsTargetState         `json:"ecs_target"`
	HttpTarget        []cloudwatcheventtarget.HttpTargetState        `json:"http_target"`
	InputTransformer  []cloudwatcheventtarget.InputTransformerState  `json:"input_transformer"`
	KinesisTarget     []cloudwatcheventtarget.KinesisTargetState     `json:"kinesis_target"`
	RedshiftTarget    []cloudwatcheventtarget.RedshiftTargetState    `json:"redshift_target"`
	RetryPolicy       []cloudwatcheventtarget.RetryPolicyState       `json:"retry_policy"`
	RunCommandTargets []cloudwatcheventtarget.RunCommandTargetsState `json:"run_command_targets"`
	SqsTarget         []cloudwatcheventtarget.SqsTargetState         `json:"sqs_target"`
}
