// CODE GENERATED BY github.com/volvo-cars/lingon. DO NOT EDIT.

package aws

import (
	"encoding/json"
	"fmt"
	ecstaskdefinition "github.com/golingon/terraproviders/aws/4.60.0/ecstaskdefinition"
	"github.com/volvo-cars/lingon/pkg/terra"
	"io"
)

func NewEcsTaskDefinition(name string, args EcsTaskDefinitionArgs) *EcsTaskDefinition {
	return &EcsTaskDefinition{
		Args: args,
		Name: name,
	}
}

var _ terra.Resource = (*EcsTaskDefinition)(nil)

type EcsTaskDefinition struct {
	Name  string
	Args  EcsTaskDefinitionArgs
	state *ecsTaskDefinitionState
}

func (etd *EcsTaskDefinition) Type() string {
	return "aws_ecs_task_definition"
}

func (etd *EcsTaskDefinition) LocalName() string {
	return etd.Name
}

func (etd *EcsTaskDefinition) Configuration() interface{} {
	return etd.Args
}

func (etd *EcsTaskDefinition) Attributes() ecsTaskDefinitionAttributes {
	return ecsTaskDefinitionAttributes{ref: terra.ReferenceResource(etd)}
}

func (etd *EcsTaskDefinition) ImportState(av io.Reader) error {
	etd.state = &ecsTaskDefinitionState{}
	if err := json.NewDecoder(av).Decode(etd.state); err != nil {
		return fmt.Errorf("decoding state into resource %s.%s: %w", etd.Type(), etd.LocalName(), err)
	}
	return nil
}

func (etd *EcsTaskDefinition) State() (*ecsTaskDefinitionState, bool) {
	return etd.state, etd.state != nil
}

func (etd *EcsTaskDefinition) StateMust() *ecsTaskDefinitionState {
	if etd.state == nil {
		panic(fmt.Sprintf("state is nil for resource %s.%s", etd.Type(), etd.LocalName()))
	}
	return etd.state
}

func (etd *EcsTaskDefinition) DependOn() terra.Reference {
	return terra.ReferenceResource(etd)
}

type EcsTaskDefinitionArgs struct {
	// ContainerDefinitions: string, required
	ContainerDefinitions terra.StringValue `hcl:"container_definitions,attr" validate:"required"`
	// Cpu: string, optional
	Cpu terra.StringValue `hcl:"cpu,attr"`
	// ExecutionRoleArn: string, optional
	ExecutionRoleArn terra.StringValue `hcl:"execution_role_arn,attr"`
	// Family: string, required
	Family terra.StringValue `hcl:"family,attr" validate:"required"`
	// Id: string, optional
	Id terra.StringValue `hcl:"id,attr"`
	// IpcMode: string, optional
	IpcMode terra.StringValue `hcl:"ipc_mode,attr"`
	// Memory: string, optional
	Memory terra.StringValue `hcl:"memory,attr"`
	// NetworkMode: string, optional
	NetworkMode terra.StringValue `hcl:"network_mode,attr"`
	// PidMode: string, optional
	PidMode terra.StringValue `hcl:"pid_mode,attr"`
	// RequiresCompatibilities: set of string, optional
	RequiresCompatibilities terra.SetValue[terra.StringValue] `hcl:"requires_compatibilities,attr"`
	// SkipDestroy: bool, optional
	SkipDestroy terra.BoolValue `hcl:"skip_destroy,attr"`
	// Tags: map of string, optional
	Tags terra.MapValue[terra.StringValue] `hcl:"tags,attr"`
	// TagsAll: map of string, optional
	TagsAll terra.MapValue[terra.StringValue] `hcl:"tags_all,attr"`
	// TaskRoleArn: string, optional
	TaskRoleArn terra.StringValue `hcl:"task_role_arn,attr"`
	// EphemeralStorage: optional
	EphemeralStorage *ecstaskdefinition.EphemeralStorage `hcl:"ephemeral_storage,block"`
	// InferenceAccelerator: min=0
	InferenceAccelerator []ecstaskdefinition.InferenceAccelerator `hcl:"inference_accelerator,block" validate:"min=0"`
	// PlacementConstraints: min=0,max=10
	PlacementConstraints []ecstaskdefinition.PlacementConstraints `hcl:"placement_constraints,block" validate:"min=0,max=10"`
	// ProxyConfiguration: optional
	ProxyConfiguration *ecstaskdefinition.ProxyConfiguration `hcl:"proxy_configuration,block"`
	// RuntimePlatform: optional
	RuntimePlatform *ecstaskdefinition.RuntimePlatform `hcl:"runtime_platform,block"`
	// Volume: min=0
	Volume []ecstaskdefinition.Volume `hcl:"volume,block" validate:"min=0"`
	// DependsOn contains resources that EcsTaskDefinition depends on
	DependsOn terra.Dependencies `hcl:"depends_on,attr"`
}
type ecsTaskDefinitionAttributes struct {
	ref terra.Reference
}

func (etd ecsTaskDefinitionAttributes) Arn() terra.StringValue {
	return terra.ReferenceString(etd.ref.Append("arn"))
}

func (etd ecsTaskDefinitionAttributes) ArnWithoutRevision() terra.StringValue {
	return terra.ReferenceString(etd.ref.Append("arn_without_revision"))
}

func (etd ecsTaskDefinitionAttributes) ContainerDefinitions() terra.StringValue {
	return terra.ReferenceString(etd.ref.Append("container_definitions"))
}

func (etd ecsTaskDefinitionAttributes) Cpu() terra.StringValue {
	return terra.ReferenceString(etd.ref.Append("cpu"))
}

func (etd ecsTaskDefinitionAttributes) ExecutionRoleArn() terra.StringValue {
	return terra.ReferenceString(etd.ref.Append("execution_role_arn"))
}

func (etd ecsTaskDefinitionAttributes) Family() terra.StringValue {
	return terra.ReferenceString(etd.ref.Append("family"))
}

func (etd ecsTaskDefinitionAttributes) Id() terra.StringValue {
	return terra.ReferenceString(etd.ref.Append("id"))
}

func (etd ecsTaskDefinitionAttributes) IpcMode() terra.StringValue {
	return terra.ReferenceString(etd.ref.Append("ipc_mode"))
}

func (etd ecsTaskDefinitionAttributes) Memory() terra.StringValue {
	return terra.ReferenceString(etd.ref.Append("memory"))
}

func (etd ecsTaskDefinitionAttributes) NetworkMode() terra.StringValue {
	return terra.ReferenceString(etd.ref.Append("network_mode"))
}

func (etd ecsTaskDefinitionAttributes) PidMode() terra.StringValue {
	return terra.ReferenceString(etd.ref.Append("pid_mode"))
}

func (etd ecsTaskDefinitionAttributes) RequiresCompatibilities() terra.SetValue[terra.StringValue] {
	return terra.ReferenceSet[terra.StringValue](etd.ref.Append("requires_compatibilities"))
}

func (etd ecsTaskDefinitionAttributes) Revision() terra.NumberValue {
	return terra.ReferenceNumber(etd.ref.Append("revision"))
}

func (etd ecsTaskDefinitionAttributes) SkipDestroy() terra.BoolValue {
	return terra.ReferenceBool(etd.ref.Append("skip_destroy"))
}

func (etd ecsTaskDefinitionAttributes) Tags() terra.MapValue[terra.StringValue] {
	return terra.ReferenceMap[terra.StringValue](etd.ref.Append("tags"))
}

func (etd ecsTaskDefinitionAttributes) TagsAll() terra.MapValue[terra.StringValue] {
	return terra.ReferenceMap[terra.StringValue](etd.ref.Append("tags_all"))
}

func (etd ecsTaskDefinitionAttributes) TaskRoleArn() terra.StringValue {
	return terra.ReferenceString(etd.ref.Append("task_role_arn"))
}

func (etd ecsTaskDefinitionAttributes) EphemeralStorage() terra.ListValue[ecstaskdefinition.EphemeralStorageAttributes] {
	return terra.ReferenceList[ecstaskdefinition.EphemeralStorageAttributes](etd.ref.Append("ephemeral_storage"))
}

func (etd ecsTaskDefinitionAttributes) InferenceAccelerator() terra.SetValue[ecstaskdefinition.InferenceAcceleratorAttributes] {
	return terra.ReferenceSet[ecstaskdefinition.InferenceAcceleratorAttributes](etd.ref.Append("inference_accelerator"))
}

func (etd ecsTaskDefinitionAttributes) PlacementConstraints() terra.SetValue[ecstaskdefinition.PlacementConstraintsAttributes] {
	return terra.ReferenceSet[ecstaskdefinition.PlacementConstraintsAttributes](etd.ref.Append("placement_constraints"))
}

func (etd ecsTaskDefinitionAttributes) ProxyConfiguration() terra.ListValue[ecstaskdefinition.ProxyConfigurationAttributes] {
	return terra.ReferenceList[ecstaskdefinition.ProxyConfigurationAttributes](etd.ref.Append("proxy_configuration"))
}

func (etd ecsTaskDefinitionAttributes) RuntimePlatform() terra.ListValue[ecstaskdefinition.RuntimePlatformAttributes] {
	return terra.ReferenceList[ecstaskdefinition.RuntimePlatformAttributes](etd.ref.Append("runtime_platform"))
}

func (etd ecsTaskDefinitionAttributes) Volume() terra.SetValue[ecstaskdefinition.VolumeAttributes] {
	return terra.ReferenceSet[ecstaskdefinition.VolumeAttributes](etd.ref.Append("volume"))
}

type ecsTaskDefinitionState struct {
	Arn                     string                                        `json:"arn"`
	ArnWithoutRevision      string                                        `json:"arn_without_revision"`
	ContainerDefinitions    string                                        `json:"container_definitions"`
	Cpu                     string                                        `json:"cpu"`
	ExecutionRoleArn        string                                        `json:"execution_role_arn"`
	Family                  string                                        `json:"family"`
	Id                      string                                        `json:"id"`
	IpcMode                 string                                        `json:"ipc_mode"`
	Memory                  string                                        `json:"memory"`
	NetworkMode             string                                        `json:"network_mode"`
	PidMode                 string                                        `json:"pid_mode"`
	RequiresCompatibilities []string                                      `json:"requires_compatibilities"`
	Revision                float64                                       `json:"revision"`
	SkipDestroy             bool                                          `json:"skip_destroy"`
	Tags                    map[string]string                             `json:"tags"`
	TagsAll                 map[string]string                             `json:"tags_all"`
	TaskRoleArn             string                                        `json:"task_role_arn"`
	EphemeralStorage        []ecstaskdefinition.EphemeralStorageState     `json:"ephemeral_storage"`
	InferenceAccelerator    []ecstaskdefinition.InferenceAcceleratorState `json:"inference_accelerator"`
	PlacementConstraints    []ecstaskdefinition.PlacementConstraintsState `json:"placement_constraints"`
	ProxyConfiguration      []ecstaskdefinition.ProxyConfigurationState   `json:"proxy_configuration"`
	RuntimePlatform         []ecstaskdefinition.RuntimePlatformState      `json:"runtime_platform"`
	Volume                  []ecstaskdefinition.VolumeState               `json:"volume"`
}
