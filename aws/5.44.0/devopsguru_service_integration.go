// CODE GENERATED BY github.com/golingon/lingon. DO NOT EDIT.

package aws

import (
	"encoding/json"
	"fmt"
	"github.com/golingon/lingon/pkg/terra"
	devopsguruserviceintegration "github.com/golingon/terraproviders/aws/5.44.0/devopsguruserviceintegration"
	"io"
)

// NewDevopsguruServiceIntegration creates a new instance of [DevopsguruServiceIntegration].
func NewDevopsguruServiceIntegration(name string, args DevopsguruServiceIntegrationArgs) *DevopsguruServiceIntegration {
	return &DevopsguruServiceIntegration{
		Args: args,
		Name: name,
	}
}

var _ terra.Resource = (*DevopsguruServiceIntegration)(nil)

// DevopsguruServiceIntegration represents the Terraform resource aws_devopsguru_service_integration.
type DevopsguruServiceIntegration struct {
	Name      string
	Args      DevopsguruServiceIntegrationArgs
	state     *devopsguruServiceIntegrationState
	DependsOn terra.Dependencies
	Lifecycle *terra.Lifecycle
}

// Type returns the Terraform object type for [DevopsguruServiceIntegration].
func (dsi *DevopsguruServiceIntegration) Type() string {
	return "aws_devopsguru_service_integration"
}

// LocalName returns the local name for [DevopsguruServiceIntegration].
func (dsi *DevopsguruServiceIntegration) LocalName() string {
	return dsi.Name
}

// Configuration returns the configuration (args) for [DevopsguruServiceIntegration].
func (dsi *DevopsguruServiceIntegration) Configuration() interface{} {
	return dsi.Args
}

// DependOn is used for other resources to depend on [DevopsguruServiceIntegration].
func (dsi *DevopsguruServiceIntegration) DependOn() terra.Reference {
	return terra.ReferenceResource(dsi)
}

// Dependencies returns the list of resources [DevopsguruServiceIntegration] depends_on.
func (dsi *DevopsguruServiceIntegration) Dependencies() terra.Dependencies {
	return dsi.DependsOn
}

// LifecycleManagement returns the lifecycle block for [DevopsguruServiceIntegration].
func (dsi *DevopsguruServiceIntegration) LifecycleManagement() *terra.Lifecycle {
	return dsi.Lifecycle
}

// Attributes returns the attributes for [DevopsguruServiceIntegration].
func (dsi *DevopsguruServiceIntegration) Attributes() devopsguruServiceIntegrationAttributes {
	return devopsguruServiceIntegrationAttributes{ref: terra.ReferenceResource(dsi)}
}

// ImportState imports the given attribute values into [DevopsguruServiceIntegration]'s state.
func (dsi *DevopsguruServiceIntegration) ImportState(av io.Reader) error {
	dsi.state = &devopsguruServiceIntegrationState{}
	if err := json.NewDecoder(av).Decode(dsi.state); err != nil {
		return fmt.Errorf("decoding state into resource %s.%s: %w", dsi.Type(), dsi.LocalName(), err)
	}
	return nil
}

// State returns the state and a bool indicating if [DevopsguruServiceIntegration] has state.
func (dsi *DevopsguruServiceIntegration) State() (*devopsguruServiceIntegrationState, bool) {
	return dsi.state, dsi.state != nil
}

// StateMust returns the state for [DevopsguruServiceIntegration]. Panics if the state is nil.
func (dsi *DevopsguruServiceIntegration) StateMust() *devopsguruServiceIntegrationState {
	if dsi.state == nil {
		panic(fmt.Sprintf("state is nil for resource %s.%s", dsi.Type(), dsi.LocalName()))
	}
	return dsi.state
}

// DevopsguruServiceIntegrationArgs contains the configurations for aws_devopsguru_service_integration.
type DevopsguruServiceIntegrationArgs struct {
	// KmsServerSideEncryption: min=0
	KmsServerSideEncryption []devopsguruserviceintegration.KmsServerSideEncryption `hcl:"kms_server_side_encryption,block" validate:"min=0"`
	// LogsAnomalyDetection: min=0
	LogsAnomalyDetection []devopsguruserviceintegration.LogsAnomalyDetection `hcl:"logs_anomaly_detection,block" validate:"min=0"`
	// OpsCenter: min=0
	OpsCenter []devopsguruserviceintegration.OpsCenter `hcl:"ops_center,block" validate:"min=0"`
}
type devopsguruServiceIntegrationAttributes struct {
	ref terra.Reference
}

// Id returns a reference to field id of aws_devopsguru_service_integration.
func (dsi devopsguruServiceIntegrationAttributes) Id() terra.StringValue {
	return terra.ReferenceAsString(dsi.ref.Append("id"))
}

func (dsi devopsguruServiceIntegrationAttributes) KmsServerSideEncryption() terra.ListValue[devopsguruserviceintegration.KmsServerSideEncryptionAttributes] {
	return terra.ReferenceAsList[devopsguruserviceintegration.KmsServerSideEncryptionAttributes](dsi.ref.Append("kms_server_side_encryption"))
}

func (dsi devopsguruServiceIntegrationAttributes) LogsAnomalyDetection() terra.ListValue[devopsguruserviceintegration.LogsAnomalyDetectionAttributes] {
	return terra.ReferenceAsList[devopsguruserviceintegration.LogsAnomalyDetectionAttributes](dsi.ref.Append("logs_anomaly_detection"))
}

func (dsi devopsguruServiceIntegrationAttributes) OpsCenter() terra.ListValue[devopsguruserviceintegration.OpsCenterAttributes] {
	return terra.ReferenceAsList[devopsguruserviceintegration.OpsCenterAttributes](dsi.ref.Append("ops_center"))
}

type devopsguruServiceIntegrationState struct {
	Id                      string                                                      `json:"id"`
	KmsServerSideEncryption []devopsguruserviceintegration.KmsServerSideEncryptionState `json:"kms_server_side_encryption"`
	LogsAnomalyDetection    []devopsguruserviceintegration.LogsAnomalyDetectionState    `json:"logs_anomaly_detection"`
	OpsCenter               []devopsguruserviceintegration.OpsCenterState               `json:"ops_center"`
}
