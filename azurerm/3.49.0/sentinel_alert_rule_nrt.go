// CODE GENERATED BY github.com/volvo-cars/lingon. DO NOT EDIT.

package azurerm

import (
	"encoding/json"
	"fmt"
	sentinelalertrulenrt "github.com/golingon/terraproviders/azurerm/3.49.0/sentinelalertrulenrt"
	"github.com/volvo-cars/lingon/pkg/terra"
	"io"
)

func NewSentinelAlertRuleNrt(name string, args SentinelAlertRuleNrtArgs) *SentinelAlertRuleNrt {
	return &SentinelAlertRuleNrt{
		Args: args,
		Name: name,
	}
}

var _ terra.Resource = (*SentinelAlertRuleNrt)(nil)

type SentinelAlertRuleNrt struct {
	Name  string
	Args  SentinelAlertRuleNrtArgs
	state *sentinelAlertRuleNrtState
}

func (sarn *SentinelAlertRuleNrt) Type() string {
	return "azurerm_sentinel_alert_rule_nrt"
}

func (sarn *SentinelAlertRuleNrt) LocalName() string {
	return sarn.Name
}

func (sarn *SentinelAlertRuleNrt) Configuration() interface{} {
	return sarn.Args
}

func (sarn *SentinelAlertRuleNrt) Attributes() sentinelAlertRuleNrtAttributes {
	return sentinelAlertRuleNrtAttributes{ref: terra.ReferenceResource(sarn)}
}

func (sarn *SentinelAlertRuleNrt) ImportState(av io.Reader) error {
	sarn.state = &sentinelAlertRuleNrtState{}
	if err := json.NewDecoder(av).Decode(sarn.state); err != nil {
		return fmt.Errorf("decoding state into resource %s.%s: %w", sarn.Type(), sarn.LocalName(), err)
	}
	return nil
}

func (sarn *SentinelAlertRuleNrt) State() (*sentinelAlertRuleNrtState, bool) {
	return sarn.state, sarn.state != nil
}

func (sarn *SentinelAlertRuleNrt) StateMust() *sentinelAlertRuleNrtState {
	if sarn.state == nil {
		panic(fmt.Sprintf("state is nil for resource %s.%s", sarn.Type(), sarn.LocalName()))
	}
	return sarn.state
}

func (sarn *SentinelAlertRuleNrt) DependOn() terra.Reference {
	return terra.ReferenceResource(sarn)
}

type SentinelAlertRuleNrtArgs struct {
	// AlertRuleTemplateGuid: string, optional
	AlertRuleTemplateGuid terra.StringValue `hcl:"alert_rule_template_guid,attr"`
	// AlertRuleTemplateVersion: string, optional
	AlertRuleTemplateVersion terra.StringValue `hcl:"alert_rule_template_version,attr"`
	// CustomDetails: map of string, optional
	CustomDetails terra.MapValue[terra.StringValue] `hcl:"custom_details,attr"`
	// Description: string, optional
	Description terra.StringValue `hcl:"description,attr"`
	// DisplayName: string, required
	DisplayName terra.StringValue `hcl:"display_name,attr" validate:"required"`
	// Enabled: bool, optional
	Enabled terra.BoolValue `hcl:"enabled,attr"`
	// Id: string, optional
	Id terra.StringValue `hcl:"id,attr"`
	// LogAnalyticsWorkspaceId: string, required
	LogAnalyticsWorkspaceId terra.StringValue `hcl:"log_analytics_workspace_id,attr" validate:"required"`
	// Name: string, required
	Name terra.StringValue `hcl:"name,attr" validate:"required"`
	// Query: string, required
	Query terra.StringValue `hcl:"query,attr" validate:"required"`
	// Severity: string, required
	Severity terra.StringValue `hcl:"severity,attr" validate:"required"`
	// SuppressionDuration: string, optional
	SuppressionDuration terra.StringValue `hcl:"suppression_duration,attr"`
	// SuppressionEnabled: bool, optional
	SuppressionEnabled terra.BoolValue `hcl:"suppression_enabled,attr"`
	// Tactics: set of string, optional
	Tactics terra.SetValue[terra.StringValue] `hcl:"tactics,attr"`
	// Techniques: set of string, optional
	Techniques terra.SetValue[terra.StringValue] `hcl:"techniques,attr"`
	// AlertDetailsOverride: min=0
	AlertDetailsOverride []sentinelalertrulenrt.AlertDetailsOverride `hcl:"alert_details_override,block" validate:"min=0"`
	// EntityMapping: min=0,max=5
	EntityMapping []sentinelalertrulenrt.EntityMapping `hcl:"entity_mapping,block" validate:"min=0,max=5"`
	// EventGrouping: optional
	EventGrouping *sentinelalertrulenrt.EventGrouping `hcl:"event_grouping,block"`
	// Incident: optional
	Incident *sentinelalertrulenrt.Incident `hcl:"incident,block"`
	// SentinelEntityMapping: min=0,max=5
	SentinelEntityMapping []sentinelalertrulenrt.SentinelEntityMapping `hcl:"sentinel_entity_mapping,block" validate:"min=0,max=5"`
	// Timeouts: optional
	Timeouts *sentinelalertrulenrt.Timeouts `hcl:"timeouts,block"`
	// DependsOn contains resources that SentinelAlertRuleNrt depends on
	DependsOn terra.Dependencies `hcl:"depends_on,attr"`
}
type sentinelAlertRuleNrtAttributes struct {
	ref terra.Reference
}

func (sarn sentinelAlertRuleNrtAttributes) AlertRuleTemplateGuid() terra.StringValue {
	return terra.ReferenceString(sarn.ref.Append("alert_rule_template_guid"))
}

func (sarn sentinelAlertRuleNrtAttributes) AlertRuleTemplateVersion() terra.StringValue {
	return terra.ReferenceString(sarn.ref.Append("alert_rule_template_version"))
}

func (sarn sentinelAlertRuleNrtAttributes) CustomDetails() terra.MapValue[terra.StringValue] {
	return terra.ReferenceMap[terra.StringValue](sarn.ref.Append("custom_details"))
}

func (sarn sentinelAlertRuleNrtAttributes) Description() terra.StringValue {
	return terra.ReferenceString(sarn.ref.Append("description"))
}

func (sarn sentinelAlertRuleNrtAttributes) DisplayName() terra.StringValue {
	return terra.ReferenceString(sarn.ref.Append("display_name"))
}

func (sarn sentinelAlertRuleNrtAttributes) Enabled() terra.BoolValue {
	return terra.ReferenceBool(sarn.ref.Append("enabled"))
}

func (sarn sentinelAlertRuleNrtAttributes) Id() terra.StringValue {
	return terra.ReferenceString(sarn.ref.Append("id"))
}

func (sarn sentinelAlertRuleNrtAttributes) LogAnalyticsWorkspaceId() terra.StringValue {
	return terra.ReferenceString(sarn.ref.Append("log_analytics_workspace_id"))
}

func (sarn sentinelAlertRuleNrtAttributes) Name() terra.StringValue {
	return terra.ReferenceString(sarn.ref.Append("name"))
}

func (sarn sentinelAlertRuleNrtAttributes) Query() terra.StringValue {
	return terra.ReferenceString(sarn.ref.Append("query"))
}

func (sarn sentinelAlertRuleNrtAttributes) Severity() terra.StringValue {
	return terra.ReferenceString(sarn.ref.Append("severity"))
}

func (sarn sentinelAlertRuleNrtAttributes) SuppressionDuration() terra.StringValue {
	return terra.ReferenceString(sarn.ref.Append("suppression_duration"))
}

func (sarn sentinelAlertRuleNrtAttributes) SuppressionEnabled() terra.BoolValue {
	return terra.ReferenceBool(sarn.ref.Append("suppression_enabled"))
}

func (sarn sentinelAlertRuleNrtAttributes) Tactics() terra.SetValue[terra.StringValue] {
	return terra.ReferenceSet[terra.StringValue](sarn.ref.Append("tactics"))
}

func (sarn sentinelAlertRuleNrtAttributes) Techniques() terra.SetValue[terra.StringValue] {
	return terra.ReferenceSet[terra.StringValue](sarn.ref.Append("techniques"))
}

func (sarn sentinelAlertRuleNrtAttributes) AlertDetailsOverride() terra.ListValue[sentinelalertrulenrt.AlertDetailsOverrideAttributes] {
	return terra.ReferenceList[sentinelalertrulenrt.AlertDetailsOverrideAttributes](sarn.ref.Append("alert_details_override"))
}

func (sarn sentinelAlertRuleNrtAttributes) EntityMapping() terra.ListValue[sentinelalertrulenrt.EntityMappingAttributes] {
	return terra.ReferenceList[sentinelalertrulenrt.EntityMappingAttributes](sarn.ref.Append("entity_mapping"))
}

func (sarn sentinelAlertRuleNrtAttributes) EventGrouping() terra.ListValue[sentinelalertrulenrt.EventGroupingAttributes] {
	return terra.ReferenceList[sentinelalertrulenrt.EventGroupingAttributes](sarn.ref.Append("event_grouping"))
}

func (sarn sentinelAlertRuleNrtAttributes) Incident() terra.ListValue[sentinelalertrulenrt.IncidentAttributes] {
	return terra.ReferenceList[sentinelalertrulenrt.IncidentAttributes](sarn.ref.Append("incident"))
}

func (sarn sentinelAlertRuleNrtAttributes) SentinelEntityMapping() terra.ListValue[sentinelalertrulenrt.SentinelEntityMappingAttributes] {
	return terra.ReferenceList[sentinelalertrulenrt.SentinelEntityMappingAttributes](sarn.ref.Append("sentinel_entity_mapping"))
}

func (sarn sentinelAlertRuleNrtAttributes) Timeouts() sentinelalertrulenrt.TimeoutsAttributes {
	return terra.ReferenceSingle[sentinelalertrulenrt.TimeoutsAttributes](sarn.ref.Append("timeouts"))
}

type sentinelAlertRuleNrtState struct {
	AlertRuleTemplateGuid    string                                            `json:"alert_rule_template_guid"`
	AlertRuleTemplateVersion string                                            `json:"alert_rule_template_version"`
	CustomDetails            map[string]string                                 `json:"custom_details"`
	Description              string                                            `json:"description"`
	DisplayName              string                                            `json:"display_name"`
	Enabled                  bool                                              `json:"enabled"`
	Id                       string                                            `json:"id"`
	LogAnalyticsWorkspaceId  string                                            `json:"log_analytics_workspace_id"`
	Name                     string                                            `json:"name"`
	Query                    string                                            `json:"query"`
	Severity                 string                                            `json:"severity"`
	SuppressionDuration      string                                            `json:"suppression_duration"`
	SuppressionEnabled       bool                                              `json:"suppression_enabled"`
	Tactics                  []string                                          `json:"tactics"`
	Techniques               []string                                          `json:"techniques"`
	AlertDetailsOverride     []sentinelalertrulenrt.AlertDetailsOverrideState  `json:"alert_details_override"`
	EntityMapping            []sentinelalertrulenrt.EntityMappingState         `json:"entity_mapping"`
	EventGrouping            []sentinelalertrulenrt.EventGroupingState         `json:"event_grouping"`
	Incident                 []sentinelalertrulenrt.IncidentState              `json:"incident"`
	SentinelEntityMapping    []sentinelalertrulenrt.SentinelEntityMappingState `json:"sentinel_entity_mapping"`
	Timeouts                 *sentinelalertrulenrt.TimeoutsState               `json:"timeouts"`
}
