// CODE GENERATED BY github.com/volvo-cars/lingon. DO NOT EDIT.

package google

import (
	"encoding/json"
	"fmt"
	computerouternat "github.com/golingon/terraproviders/google/4.59.0/computerouternat"
	"github.com/volvo-cars/lingon/pkg/terra"
	"io"
)

func NewComputeRouterNat(name string, args ComputeRouterNatArgs) *ComputeRouterNat {
	return &ComputeRouterNat{
		Args: args,
		Name: name,
	}
}

var _ terra.Resource = (*ComputeRouterNat)(nil)

type ComputeRouterNat struct {
	Name  string
	Args  ComputeRouterNatArgs
	state *computeRouterNatState
}

func (crn *ComputeRouterNat) Type() string {
	return "google_compute_router_nat"
}

func (crn *ComputeRouterNat) LocalName() string {
	return crn.Name
}

func (crn *ComputeRouterNat) Configuration() interface{} {
	return crn.Args
}

func (crn *ComputeRouterNat) Attributes() computeRouterNatAttributes {
	return computeRouterNatAttributes{ref: terra.ReferenceResource(crn)}
}

func (crn *ComputeRouterNat) ImportState(av io.Reader) error {
	crn.state = &computeRouterNatState{}
	if err := json.NewDecoder(av).Decode(crn.state); err != nil {
		return fmt.Errorf("decoding state into resource %s.%s: %w", crn.Type(), crn.LocalName(), err)
	}
	return nil
}

func (crn *ComputeRouterNat) State() (*computeRouterNatState, bool) {
	return crn.state, crn.state != nil
}

func (crn *ComputeRouterNat) StateMust() *computeRouterNatState {
	if crn.state == nil {
		panic(fmt.Sprintf("state is nil for resource %s.%s", crn.Type(), crn.LocalName()))
	}
	return crn.state
}

func (crn *ComputeRouterNat) DependOn() terra.Reference {
	return terra.ReferenceResource(crn)
}

type ComputeRouterNatArgs struct {
	// DrainNatIps: set of string, optional
	DrainNatIps terra.SetValue[terra.StringValue] `hcl:"drain_nat_ips,attr"`
	// EnableDynamicPortAllocation: bool, optional
	EnableDynamicPortAllocation terra.BoolValue `hcl:"enable_dynamic_port_allocation,attr"`
	// EnableEndpointIndependentMapping: bool, optional
	EnableEndpointIndependentMapping terra.BoolValue `hcl:"enable_endpoint_independent_mapping,attr"`
	// IcmpIdleTimeoutSec: number, optional
	IcmpIdleTimeoutSec terra.NumberValue `hcl:"icmp_idle_timeout_sec,attr"`
	// Id: string, optional
	Id terra.StringValue `hcl:"id,attr"`
	// MaxPortsPerVm: number, optional
	MaxPortsPerVm terra.NumberValue `hcl:"max_ports_per_vm,attr"`
	// MinPortsPerVm: number, optional
	MinPortsPerVm terra.NumberValue `hcl:"min_ports_per_vm,attr"`
	// Name: string, required
	Name terra.StringValue `hcl:"name,attr" validate:"required"`
	// NatIpAllocateOption: string, required
	NatIpAllocateOption terra.StringValue `hcl:"nat_ip_allocate_option,attr" validate:"required"`
	// NatIps: set of string, optional
	NatIps terra.SetValue[terra.StringValue] `hcl:"nat_ips,attr"`
	// Project: string, optional
	Project terra.StringValue `hcl:"project,attr"`
	// Region: string, optional
	Region terra.StringValue `hcl:"region,attr"`
	// Router: string, required
	Router terra.StringValue `hcl:"router,attr" validate:"required"`
	// SourceSubnetworkIpRangesToNat: string, required
	SourceSubnetworkIpRangesToNat terra.StringValue `hcl:"source_subnetwork_ip_ranges_to_nat,attr" validate:"required"`
	// TcpEstablishedIdleTimeoutSec: number, optional
	TcpEstablishedIdleTimeoutSec terra.NumberValue `hcl:"tcp_established_idle_timeout_sec,attr"`
	// TcpTimeWaitTimeoutSec: number, optional
	TcpTimeWaitTimeoutSec terra.NumberValue `hcl:"tcp_time_wait_timeout_sec,attr"`
	// TcpTransitoryIdleTimeoutSec: number, optional
	TcpTransitoryIdleTimeoutSec terra.NumberValue `hcl:"tcp_transitory_idle_timeout_sec,attr"`
	// UdpIdleTimeoutSec: number, optional
	UdpIdleTimeoutSec terra.NumberValue `hcl:"udp_idle_timeout_sec,attr"`
	// LogConfig: optional
	LogConfig *computerouternat.LogConfig `hcl:"log_config,block"`
	// Rules: min=0
	Rules []computerouternat.Rules `hcl:"rules,block" validate:"min=0"`
	// Subnetwork: min=0
	Subnetwork []computerouternat.Subnetwork `hcl:"subnetwork,block" validate:"min=0"`
	// Timeouts: optional
	Timeouts *computerouternat.Timeouts `hcl:"timeouts,block"`
	// DependsOn contains resources that ComputeRouterNat depends on
	DependsOn terra.Dependencies `hcl:"depends_on,attr"`
}
type computeRouterNatAttributes struct {
	ref terra.Reference
}

func (crn computeRouterNatAttributes) DrainNatIps() terra.SetValue[terra.StringValue] {
	return terra.ReferenceSet[terra.StringValue](crn.ref.Append("drain_nat_ips"))
}

func (crn computeRouterNatAttributes) EnableDynamicPortAllocation() terra.BoolValue {
	return terra.ReferenceBool(crn.ref.Append("enable_dynamic_port_allocation"))
}

func (crn computeRouterNatAttributes) EnableEndpointIndependentMapping() terra.BoolValue {
	return terra.ReferenceBool(crn.ref.Append("enable_endpoint_independent_mapping"))
}

func (crn computeRouterNatAttributes) IcmpIdleTimeoutSec() terra.NumberValue {
	return terra.ReferenceNumber(crn.ref.Append("icmp_idle_timeout_sec"))
}

func (crn computeRouterNatAttributes) Id() terra.StringValue {
	return terra.ReferenceString(crn.ref.Append("id"))
}

func (crn computeRouterNatAttributes) MaxPortsPerVm() terra.NumberValue {
	return terra.ReferenceNumber(crn.ref.Append("max_ports_per_vm"))
}

func (crn computeRouterNatAttributes) MinPortsPerVm() terra.NumberValue {
	return terra.ReferenceNumber(crn.ref.Append("min_ports_per_vm"))
}

func (crn computeRouterNatAttributes) Name() terra.StringValue {
	return terra.ReferenceString(crn.ref.Append("name"))
}

func (crn computeRouterNatAttributes) NatIpAllocateOption() terra.StringValue {
	return terra.ReferenceString(crn.ref.Append("nat_ip_allocate_option"))
}

func (crn computeRouterNatAttributes) NatIps() terra.SetValue[terra.StringValue] {
	return terra.ReferenceSet[terra.StringValue](crn.ref.Append("nat_ips"))
}

func (crn computeRouterNatAttributes) Project() terra.StringValue {
	return terra.ReferenceString(crn.ref.Append("project"))
}

func (crn computeRouterNatAttributes) Region() terra.StringValue {
	return terra.ReferenceString(crn.ref.Append("region"))
}

func (crn computeRouterNatAttributes) Router() terra.StringValue {
	return terra.ReferenceString(crn.ref.Append("router"))
}

func (crn computeRouterNatAttributes) SourceSubnetworkIpRangesToNat() terra.StringValue {
	return terra.ReferenceString(crn.ref.Append("source_subnetwork_ip_ranges_to_nat"))
}

func (crn computeRouterNatAttributes) TcpEstablishedIdleTimeoutSec() terra.NumberValue {
	return terra.ReferenceNumber(crn.ref.Append("tcp_established_idle_timeout_sec"))
}

func (crn computeRouterNatAttributes) TcpTimeWaitTimeoutSec() terra.NumberValue {
	return terra.ReferenceNumber(crn.ref.Append("tcp_time_wait_timeout_sec"))
}

func (crn computeRouterNatAttributes) TcpTransitoryIdleTimeoutSec() terra.NumberValue {
	return terra.ReferenceNumber(crn.ref.Append("tcp_transitory_idle_timeout_sec"))
}

func (crn computeRouterNatAttributes) UdpIdleTimeoutSec() terra.NumberValue {
	return terra.ReferenceNumber(crn.ref.Append("udp_idle_timeout_sec"))
}

func (crn computeRouterNatAttributes) LogConfig() terra.ListValue[computerouternat.LogConfigAttributes] {
	return terra.ReferenceList[computerouternat.LogConfigAttributes](crn.ref.Append("log_config"))
}

func (crn computeRouterNatAttributes) Rules() terra.SetValue[computerouternat.RulesAttributes] {
	return terra.ReferenceSet[computerouternat.RulesAttributes](crn.ref.Append("rules"))
}

func (crn computeRouterNatAttributes) Subnetwork() terra.SetValue[computerouternat.SubnetworkAttributes] {
	return terra.ReferenceSet[computerouternat.SubnetworkAttributes](crn.ref.Append("subnetwork"))
}

func (crn computeRouterNatAttributes) Timeouts() computerouternat.TimeoutsAttributes {
	return terra.ReferenceSingle[computerouternat.TimeoutsAttributes](crn.ref.Append("timeouts"))
}

type computeRouterNatState struct {
	DrainNatIps                      []string                           `json:"drain_nat_ips"`
	EnableDynamicPortAllocation      bool                               `json:"enable_dynamic_port_allocation"`
	EnableEndpointIndependentMapping bool                               `json:"enable_endpoint_independent_mapping"`
	IcmpIdleTimeoutSec               float64                            `json:"icmp_idle_timeout_sec"`
	Id                               string                             `json:"id"`
	MaxPortsPerVm                    float64                            `json:"max_ports_per_vm"`
	MinPortsPerVm                    float64                            `json:"min_ports_per_vm"`
	Name                             string                             `json:"name"`
	NatIpAllocateOption              string                             `json:"nat_ip_allocate_option"`
	NatIps                           []string                           `json:"nat_ips"`
	Project                          string                             `json:"project"`
	Region                           string                             `json:"region"`
	Router                           string                             `json:"router"`
	SourceSubnetworkIpRangesToNat    string                             `json:"source_subnetwork_ip_ranges_to_nat"`
	TcpEstablishedIdleTimeoutSec     float64                            `json:"tcp_established_idle_timeout_sec"`
	TcpTimeWaitTimeoutSec            float64                            `json:"tcp_time_wait_timeout_sec"`
	TcpTransitoryIdleTimeoutSec      float64                            `json:"tcp_transitory_idle_timeout_sec"`
	UdpIdleTimeoutSec                float64                            `json:"udp_idle_timeout_sec"`
	LogConfig                        []computerouternat.LogConfigState  `json:"log_config"`
	Rules                            []computerouternat.RulesState      `json:"rules"`
	Subnetwork                       []computerouternat.SubnetworkState `json:"subnetwork"`
	Timeouts                         *computerouternat.TimeoutsState    `json:"timeouts"`
}
