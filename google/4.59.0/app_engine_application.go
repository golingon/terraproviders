// CODE GENERATED BY github.com/volvo-cars/lingon. DO NOT EDIT.

package google

import (
	"encoding/json"
	"fmt"
	appengineapplication "github.com/golingon/terraproviders/google/4.59.0/appengineapplication"
	"github.com/volvo-cars/lingon/pkg/terra"
	"io"
)

func NewAppEngineApplication(name string, args AppEngineApplicationArgs) *AppEngineApplication {
	return &AppEngineApplication{
		Args: args,
		Name: name,
	}
}

var _ terra.Resource = (*AppEngineApplication)(nil)

type AppEngineApplication struct {
	Name  string
	Args  AppEngineApplicationArgs
	state *appEngineApplicationState
}

func (aea *AppEngineApplication) Type() string {
	return "google_app_engine_application"
}

func (aea *AppEngineApplication) LocalName() string {
	return aea.Name
}

func (aea *AppEngineApplication) Configuration() interface{} {
	return aea.Args
}

func (aea *AppEngineApplication) Attributes() appEngineApplicationAttributes {
	return appEngineApplicationAttributes{ref: terra.ReferenceResource(aea)}
}

func (aea *AppEngineApplication) ImportState(av io.Reader) error {
	aea.state = &appEngineApplicationState{}
	if err := json.NewDecoder(av).Decode(aea.state); err != nil {
		return fmt.Errorf("decoding state into resource %s.%s: %w", aea.Type(), aea.LocalName(), err)
	}
	return nil
}

func (aea *AppEngineApplication) State() (*appEngineApplicationState, bool) {
	return aea.state, aea.state != nil
}

func (aea *AppEngineApplication) StateMust() *appEngineApplicationState {
	if aea.state == nil {
		panic(fmt.Sprintf("state is nil for resource %s.%s", aea.Type(), aea.LocalName()))
	}
	return aea.state
}

func (aea *AppEngineApplication) DependOn() terra.Reference {
	return terra.ReferenceResource(aea)
}

type AppEngineApplicationArgs struct {
	// AuthDomain: string, optional
	AuthDomain terra.StringValue `hcl:"auth_domain,attr"`
	// DatabaseType: string, optional
	DatabaseType terra.StringValue `hcl:"database_type,attr"`
	// Id: string, optional
	Id terra.StringValue `hcl:"id,attr"`
	// LocationId: string, required
	LocationId terra.StringValue `hcl:"location_id,attr" validate:"required"`
	// Project: string, optional
	Project terra.StringValue `hcl:"project,attr"`
	// ServingStatus: string, optional
	ServingStatus terra.StringValue `hcl:"serving_status,attr"`
	// UrlDispatchRule: min=0
	UrlDispatchRule []appengineapplication.UrlDispatchRule `hcl:"url_dispatch_rule,block" validate:"min=0"`
	// FeatureSettings: optional
	FeatureSettings *appengineapplication.FeatureSettings `hcl:"feature_settings,block"`
	// Iap: optional
	Iap *appengineapplication.Iap `hcl:"iap,block"`
	// Timeouts: optional
	Timeouts *appengineapplication.Timeouts `hcl:"timeouts,block"`
	// DependsOn contains resources that AppEngineApplication depends on
	DependsOn terra.Dependencies `hcl:"depends_on,attr"`
}
type appEngineApplicationAttributes struct {
	ref terra.Reference
}

func (aea appEngineApplicationAttributes) AppId() terra.StringValue {
	return terra.ReferenceString(aea.ref.Append("app_id"))
}

func (aea appEngineApplicationAttributes) AuthDomain() terra.StringValue {
	return terra.ReferenceString(aea.ref.Append("auth_domain"))
}

func (aea appEngineApplicationAttributes) CodeBucket() terra.StringValue {
	return terra.ReferenceString(aea.ref.Append("code_bucket"))
}

func (aea appEngineApplicationAttributes) DatabaseType() terra.StringValue {
	return terra.ReferenceString(aea.ref.Append("database_type"))
}

func (aea appEngineApplicationAttributes) DefaultBucket() terra.StringValue {
	return terra.ReferenceString(aea.ref.Append("default_bucket"))
}

func (aea appEngineApplicationAttributes) DefaultHostname() terra.StringValue {
	return terra.ReferenceString(aea.ref.Append("default_hostname"))
}

func (aea appEngineApplicationAttributes) GcrDomain() terra.StringValue {
	return terra.ReferenceString(aea.ref.Append("gcr_domain"))
}

func (aea appEngineApplicationAttributes) Id() terra.StringValue {
	return terra.ReferenceString(aea.ref.Append("id"))
}

func (aea appEngineApplicationAttributes) LocationId() terra.StringValue {
	return terra.ReferenceString(aea.ref.Append("location_id"))
}

func (aea appEngineApplicationAttributes) Name() terra.StringValue {
	return terra.ReferenceString(aea.ref.Append("name"))
}

func (aea appEngineApplicationAttributes) Project() terra.StringValue {
	return terra.ReferenceString(aea.ref.Append("project"))
}

func (aea appEngineApplicationAttributes) ServingStatus() terra.StringValue {
	return terra.ReferenceString(aea.ref.Append("serving_status"))
}

func (aea appEngineApplicationAttributes) UrlDispatchRule() terra.ListValue[appengineapplication.UrlDispatchRuleAttributes] {
	return terra.ReferenceList[appengineapplication.UrlDispatchRuleAttributes](aea.ref.Append("url_dispatch_rule"))
}

func (aea appEngineApplicationAttributes) FeatureSettings() terra.ListValue[appengineapplication.FeatureSettingsAttributes] {
	return terra.ReferenceList[appengineapplication.FeatureSettingsAttributes](aea.ref.Append("feature_settings"))
}

func (aea appEngineApplicationAttributes) Iap() terra.ListValue[appengineapplication.IapAttributes] {
	return terra.ReferenceList[appengineapplication.IapAttributes](aea.ref.Append("iap"))
}

func (aea appEngineApplicationAttributes) Timeouts() appengineapplication.TimeoutsAttributes {
	return terra.ReferenceSingle[appengineapplication.TimeoutsAttributes](aea.ref.Append("timeouts"))
}

type appEngineApplicationState struct {
	AppId           string                                      `json:"app_id"`
	AuthDomain      string                                      `json:"auth_domain"`
	CodeBucket      string                                      `json:"code_bucket"`
	DatabaseType    string                                      `json:"database_type"`
	DefaultBucket   string                                      `json:"default_bucket"`
	DefaultHostname string                                      `json:"default_hostname"`
	GcrDomain       string                                      `json:"gcr_domain"`
	Id              string                                      `json:"id"`
	LocationId      string                                      `json:"location_id"`
	Name            string                                      `json:"name"`
	Project         string                                      `json:"project"`
	ServingStatus   string                                      `json:"serving_status"`
	UrlDispatchRule []appengineapplication.UrlDispatchRuleState `json:"url_dispatch_rule"`
	FeatureSettings []appengineapplication.FeatureSettingsState `json:"feature_settings"`
	Iap             []appengineapplication.IapState             `json:"iap"`
	Timeouts        *appengineapplication.TimeoutsState         `json:"timeouts"`
}
