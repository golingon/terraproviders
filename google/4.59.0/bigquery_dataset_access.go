// CODE GENERATED BY github.com/volvo-cars/lingon. DO NOT EDIT.

package google

import (
	"encoding/json"
	"fmt"
	bigquerydatasetaccess "github.com/golingon/terraproviders/google/4.59.0/bigquerydatasetaccess"
	"github.com/volvo-cars/lingon/pkg/terra"
	"io"
)

func NewBigqueryDatasetAccess(name string, args BigqueryDatasetAccessArgs) *BigqueryDatasetAccess {
	return &BigqueryDatasetAccess{
		Args: args,
		Name: name,
	}
}

var _ terra.Resource = (*BigqueryDatasetAccess)(nil)

type BigqueryDatasetAccess struct {
	Name  string
	Args  BigqueryDatasetAccessArgs
	state *bigqueryDatasetAccessState
}

func (bda *BigqueryDatasetAccess) Type() string {
	return "google_bigquery_dataset_access"
}

func (bda *BigqueryDatasetAccess) LocalName() string {
	return bda.Name
}

func (bda *BigqueryDatasetAccess) Configuration() interface{} {
	return bda.Args
}

func (bda *BigqueryDatasetAccess) Attributes() bigqueryDatasetAccessAttributes {
	return bigqueryDatasetAccessAttributes{ref: terra.ReferenceResource(bda)}
}

func (bda *BigqueryDatasetAccess) ImportState(av io.Reader) error {
	bda.state = &bigqueryDatasetAccessState{}
	if err := json.NewDecoder(av).Decode(bda.state); err != nil {
		return fmt.Errorf("decoding state into resource %s.%s: %w", bda.Type(), bda.LocalName(), err)
	}
	return nil
}

func (bda *BigqueryDatasetAccess) State() (*bigqueryDatasetAccessState, bool) {
	return bda.state, bda.state != nil
}

func (bda *BigqueryDatasetAccess) StateMust() *bigqueryDatasetAccessState {
	if bda.state == nil {
		panic(fmt.Sprintf("state is nil for resource %s.%s", bda.Type(), bda.LocalName()))
	}
	return bda.state
}

func (bda *BigqueryDatasetAccess) DependOn() terra.Reference {
	return terra.ReferenceResource(bda)
}

type BigqueryDatasetAccessArgs struct {
	// DatasetId: string, required
	DatasetId terra.StringValue `hcl:"dataset_id,attr" validate:"required"`
	// Domain: string, optional
	Domain terra.StringValue `hcl:"domain,attr"`
	// GroupByEmail: string, optional
	GroupByEmail terra.StringValue `hcl:"group_by_email,attr"`
	// IamMember: string, optional
	IamMember terra.StringValue `hcl:"iam_member,attr"`
	// Id: string, optional
	Id terra.StringValue `hcl:"id,attr"`
	// Project: string, optional
	Project terra.StringValue `hcl:"project,attr"`
	// Role: string, optional
	Role terra.StringValue `hcl:"role,attr"`
	// SpecialGroup: string, optional
	SpecialGroup terra.StringValue `hcl:"special_group,attr"`
	// UserByEmail: string, optional
	UserByEmail terra.StringValue `hcl:"user_by_email,attr"`
	// Dataset: optional
	Dataset *bigquerydatasetaccess.Dataset `hcl:"dataset,block"`
	// Routine: optional
	Routine *bigquerydatasetaccess.Routine `hcl:"routine,block"`
	// Timeouts: optional
	Timeouts *bigquerydatasetaccess.Timeouts `hcl:"timeouts,block"`
	// View: optional
	View *bigquerydatasetaccess.View `hcl:"view,block"`
	// DependsOn contains resources that BigqueryDatasetAccess depends on
	DependsOn terra.Dependencies `hcl:"depends_on,attr"`
}
type bigqueryDatasetAccessAttributes struct {
	ref terra.Reference
}

func (bda bigqueryDatasetAccessAttributes) ApiUpdatedMember() terra.BoolValue {
	return terra.ReferenceBool(bda.ref.Append("api_updated_member"))
}

func (bda bigqueryDatasetAccessAttributes) DatasetId() terra.StringValue {
	return terra.ReferenceString(bda.ref.Append("dataset_id"))
}

func (bda bigqueryDatasetAccessAttributes) Domain() terra.StringValue {
	return terra.ReferenceString(bda.ref.Append("domain"))
}

func (bda bigqueryDatasetAccessAttributes) GroupByEmail() terra.StringValue {
	return terra.ReferenceString(bda.ref.Append("group_by_email"))
}

func (bda bigqueryDatasetAccessAttributes) IamMember() terra.StringValue {
	return terra.ReferenceString(bda.ref.Append("iam_member"))
}

func (bda bigqueryDatasetAccessAttributes) Id() terra.StringValue {
	return terra.ReferenceString(bda.ref.Append("id"))
}

func (bda bigqueryDatasetAccessAttributes) Project() terra.StringValue {
	return terra.ReferenceString(bda.ref.Append("project"))
}

func (bda bigqueryDatasetAccessAttributes) Role() terra.StringValue {
	return terra.ReferenceString(bda.ref.Append("role"))
}

func (bda bigqueryDatasetAccessAttributes) SpecialGroup() terra.StringValue {
	return terra.ReferenceString(bda.ref.Append("special_group"))
}

func (bda bigqueryDatasetAccessAttributes) UserByEmail() terra.StringValue {
	return terra.ReferenceString(bda.ref.Append("user_by_email"))
}

func (bda bigqueryDatasetAccessAttributes) Dataset() terra.ListValue[bigquerydatasetaccess.DatasetAttributes] {
	return terra.ReferenceList[bigquerydatasetaccess.DatasetAttributes](bda.ref.Append("dataset"))
}

func (bda bigqueryDatasetAccessAttributes) Routine() terra.ListValue[bigquerydatasetaccess.RoutineAttributes] {
	return terra.ReferenceList[bigquerydatasetaccess.RoutineAttributes](bda.ref.Append("routine"))
}

func (bda bigqueryDatasetAccessAttributes) Timeouts() bigquerydatasetaccess.TimeoutsAttributes {
	return terra.ReferenceSingle[bigquerydatasetaccess.TimeoutsAttributes](bda.ref.Append("timeouts"))
}

func (bda bigqueryDatasetAccessAttributes) View() terra.ListValue[bigquerydatasetaccess.ViewAttributes] {
	return terra.ReferenceList[bigquerydatasetaccess.ViewAttributes](bda.ref.Append("view"))
}

type bigqueryDatasetAccessState struct {
	ApiUpdatedMember bool                                 `json:"api_updated_member"`
	DatasetId        string                               `json:"dataset_id"`
	Domain           string                               `json:"domain"`
	GroupByEmail     string                               `json:"group_by_email"`
	IamMember        string                               `json:"iam_member"`
	Id               string                               `json:"id"`
	Project          string                               `json:"project"`
	Role             string                               `json:"role"`
	SpecialGroup     string                               `json:"special_group"`
	UserByEmail      string                               `json:"user_by_email"`
	Dataset          []bigquerydatasetaccess.DatasetState `json:"dataset"`
	Routine          []bigquerydatasetaccess.RoutineState `json:"routine"`
	Timeouts         *bigquerydatasetaccess.TimeoutsState `json:"timeouts"`
	View             []bigquerydatasetaccess.ViewState    `json:"view"`
}
