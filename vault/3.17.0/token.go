// CODE GENERATED BY github.com/volvo-cars/lingon. DO NOT EDIT.

package vault

import (
	"encoding/json"
	"fmt"
	"github.com/volvo-cars/lingon/pkg/terra"
	"io"
)

// NewToken creates a new instance of [Token].
func NewToken(name string, args TokenArgs) *Token {
	return &Token{
		Args: args,
		Name: name,
	}
}

var _ terra.Resource = (*Token)(nil)

// Token represents the Terraform resource vault_token.
type Token struct {
	Name      string
	Args      TokenArgs
	state     *tokenState
	DependsOn terra.Dependencies
	Lifecycle *terra.Lifecycle
}

// Type returns the Terraform object type for [Token].
func (t *Token) Type() string {
	return "vault_token"
}

// LocalName returns the local name for [Token].
func (t *Token) LocalName() string {
	return t.Name
}

// Configuration returns the configuration (args) for [Token].
func (t *Token) Configuration() interface{} {
	return t.Args
}

// DependOn is used for other resources to depend on [Token].
func (t *Token) DependOn() terra.Reference {
	return terra.ReferenceResource(t)
}

// Dependencies returns the list of resources [Token] depends_on.
func (t *Token) Dependencies() terra.Dependencies {
	return t.DependsOn
}

// LifecycleManagement returns the lifecycle block for [Token].
func (t *Token) LifecycleManagement() *terra.Lifecycle {
	return t.Lifecycle
}

// Attributes returns the attributes for [Token].
func (t *Token) Attributes() tokenAttributes {
	return tokenAttributes{ref: terra.ReferenceResource(t)}
}

// ImportState imports the given attribute values into [Token]'s state.
func (t *Token) ImportState(av io.Reader) error {
	t.state = &tokenState{}
	if err := json.NewDecoder(av).Decode(t.state); err != nil {
		return fmt.Errorf("decoding state into resource %s.%s: %w", t.Type(), t.LocalName(), err)
	}
	return nil
}

// State returns the state and a bool indicating if [Token] has state.
func (t *Token) State() (*tokenState, bool) {
	return t.state, t.state != nil
}

// StateMust returns the state for [Token]. Panics if the state is nil.
func (t *Token) StateMust() *tokenState {
	if t.state == nil {
		panic(fmt.Sprintf("state is nil for resource %s.%s", t.Type(), t.LocalName()))
	}
	return t.state
}

// TokenArgs contains the configurations for vault_token.
type TokenArgs struct {
	// DisplayName: string, optional
	DisplayName terra.StringValue `hcl:"display_name,attr"`
	// ExplicitMaxTtl: string, optional
	ExplicitMaxTtl terra.StringValue `hcl:"explicit_max_ttl,attr"`
	// Id: string, optional
	Id terra.StringValue `hcl:"id,attr"`
	// Metadata: map of string, optional
	Metadata terra.MapValue[terra.StringValue] `hcl:"metadata,attr"`
	// Namespace: string, optional
	Namespace terra.StringValue `hcl:"namespace,attr"`
	// NoDefaultPolicy: bool, optional
	NoDefaultPolicy terra.BoolValue `hcl:"no_default_policy,attr"`
	// NoParent: bool, optional
	NoParent terra.BoolValue `hcl:"no_parent,attr"`
	// NumUses: number, optional
	NumUses terra.NumberValue `hcl:"num_uses,attr"`
	// Period: string, optional
	Period terra.StringValue `hcl:"period,attr"`
	// Policies: set of string, optional
	Policies terra.SetValue[terra.StringValue] `hcl:"policies,attr"`
	// RenewIncrement: number, optional
	RenewIncrement terra.NumberValue `hcl:"renew_increment,attr"`
	// RenewMinLease: number, optional
	RenewMinLease terra.NumberValue `hcl:"renew_min_lease,attr"`
	// Renewable: bool, optional
	Renewable terra.BoolValue `hcl:"renewable,attr"`
	// RoleName: string, optional
	RoleName terra.StringValue `hcl:"role_name,attr"`
	// Ttl: string, optional
	Ttl terra.StringValue `hcl:"ttl,attr"`
	// WrappingTtl: string, optional
	WrappingTtl terra.StringValue `hcl:"wrapping_ttl,attr"`
}
type tokenAttributes struct {
	ref terra.Reference
}

// ClientToken returns a reference to field client_token of vault_token.
func (t tokenAttributes) ClientToken() terra.StringValue {
	return terra.ReferenceAsString(t.ref.Append("client_token"))
}

// DisplayName returns a reference to field display_name of vault_token.
func (t tokenAttributes) DisplayName() terra.StringValue {
	return terra.ReferenceAsString(t.ref.Append("display_name"))
}

// ExplicitMaxTtl returns a reference to field explicit_max_ttl of vault_token.
func (t tokenAttributes) ExplicitMaxTtl() terra.StringValue {
	return terra.ReferenceAsString(t.ref.Append("explicit_max_ttl"))
}

// Id returns a reference to field id of vault_token.
func (t tokenAttributes) Id() terra.StringValue {
	return terra.ReferenceAsString(t.ref.Append("id"))
}

// LeaseDuration returns a reference to field lease_duration of vault_token.
func (t tokenAttributes) LeaseDuration() terra.NumberValue {
	return terra.ReferenceAsNumber(t.ref.Append("lease_duration"))
}

// LeaseStarted returns a reference to field lease_started of vault_token.
func (t tokenAttributes) LeaseStarted() terra.StringValue {
	return terra.ReferenceAsString(t.ref.Append("lease_started"))
}

// Metadata returns a reference to field metadata of vault_token.
func (t tokenAttributes) Metadata() terra.MapValue[terra.StringValue] {
	return terra.ReferenceAsMap[terra.StringValue](t.ref.Append("metadata"))
}

// Namespace returns a reference to field namespace of vault_token.
func (t tokenAttributes) Namespace() terra.StringValue {
	return terra.ReferenceAsString(t.ref.Append("namespace"))
}

// NoDefaultPolicy returns a reference to field no_default_policy of vault_token.
func (t tokenAttributes) NoDefaultPolicy() terra.BoolValue {
	return terra.ReferenceAsBool(t.ref.Append("no_default_policy"))
}

// NoParent returns a reference to field no_parent of vault_token.
func (t tokenAttributes) NoParent() terra.BoolValue {
	return terra.ReferenceAsBool(t.ref.Append("no_parent"))
}

// NumUses returns a reference to field num_uses of vault_token.
func (t tokenAttributes) NumUses() terra.NumberValue {
	return terra.ReferenceAsNumber(t.ref.Append("num_uses"))
}

// Period returns a reference to field period of vault_token.
func (t tokenAttributes) Period() terra.StringValue {
	return terra.ReferenceAsString(t.ref.Append("period"))
}

// Policies returns a reference to field policies of vault_token.
func (t tokenAttributes) Policies() terra.SetValue[terra.StringValue] {
	return terra.ReferenceAsSet[terra.StringValue](t.ref.Append("policies"))
}

// RenewIncrement returns a reference to field renew_increment of vault_token.
func (t tokenAttributes) RenewIncrement() terra.NumberValue {
	return terra.ReferenceAsNumber(t.ref.Append("renew_increment"))
}

// RenewMinLease returns a reference to field renew_min_lease of vault_token.
func (t tokenAttributes) RenewMinLease() terra.NumberValue {
	return terra.ReferenceAsNumber(t.ref.Append("renew_min_lease"))
}

// Renewable returns a reference to field renewable of vault_token.
func (t tokenAttributes) Renewable() terra.BoolValue {
	return terra.ReferenceAsBool(t.ref.Append("renewable"))
}

// RoleName returns a reference to field role_name of vault_token.
func (t tokenAttributes) RoleName() terra.StringValue {
	return terra.ReferenceAsString(t.ref.Append("role_name"))
}

// Ttl returns a reference to field ttl of vault_token.
func (t tokenAttributes) Ttl() terra.StringValue {
	return terra.ReferenceAsString(t.ref.Append("ttl"))
}

// WrappedToken returns a reference to field wrapped_token of vault_token.
func (t tokenAttributes) WrappedToken() terra.StringValue {
	return terra.ReferenceAsString(t.ref.Append("wrapped_token"))
}

// WrappingAccessor returns a reference to field wrapping_accessor of vault_token.
func (t tokenAttributes) WrappingAccessor() terra.StringValue {
	return terra.ReferenceAsString(t.ref.Append("wrapping_accessor"))
}

// WrappingTtl returns a reference to field wrapping_ttl of vault_token.
func (t tokenAttributes) WrappingTtl() terra.StringValue {
	return terra.ReferenceAsString(t.ref.Append("wrapping_ttl"))
}

type tokenState struct {
	ClientToken      string            `json:"client_token"`
	DisplayName      string            `json:"display_name"`
	ExplicitMaxTtl   string            `json:"explicit_max_ttl"`
	Id               string            `json:"id"`
	LeaseDuration    float64           `json:"lease_duration"`
	LeaseStarted     string            `json:"lease_started"`
	Metadata         map[string]string `json:"metadata"`
	Namespace        string            `json:"namespace"`
	NoDefaultPolicy  bool              `json:"no_default_policy"`
	NoParent         bool              `json:"no_parent"`
	NumUses          float64           `json:"num_uses"`
	Period           string            `json:"period"`
	Policies         []string          `json:"policies"`
	RenewIncrement   float64           `json:"renew_increment"`
	RenewMinLease    float64           `json:"renew_min_lease"`
	Renewable        bool              `json:"renewable"`
	RoleName         string            `json:"role_name"`
	Ttl              string            `json:"ttl"`
	WrappedToken     string            `json:"wrapped_token"`
	WrappingAccessor string            `json:"wrapping_accessor"`
	WrappingTtl      string            `json:"wrapping_ttl"`
}
